# 日志重复度分析工具 - 部署说明

## 📌 重要说明

**此工具的分析逻辑完全在浏览器本地运行，不会上传任何日志数据到服务器，保证数据安全！**

---

## 🚀 本地运行方式

### 方式1：直接打开（推荐）
直接双击 `log_analyzer.html` 文件，在浏览器中打开即可使用。

### 方式2：本地HTTP服务器
如果遇到浏览器权限问题，可以使用本地服务器：

```bash
# 使用Python
python -m http.server 8000

# 使用Node.js (http-server)
npx http-server -p 8000

# 使用PHP
php -S localhost:8000
```

然后访问：`http://localhost:8000/log_analyzer.html`

---

## 🌐 线上部署方案

### 方案1：静态网页托管（推荐）

适用于团队共享使用，但仍保持数据安全。

#### 部署到 GitHub Pages（免费）
```bash
# 1. 创建GitHub仓库
# 2. 上传 log_analyzer.html 文件
# 3. 在仓库设置中启用 GitHub Pages
# 4. 访问: https://你的用户名.github.io/仓库名/log_analyzer.html
```

#### 部署到 Vercel/Netlify（免费）
```bash
# 1. 将 log_analyzer.html 上传到 GitHub/GitLab
# 2. 在 Vercel/Netlify 导入项目
# 3. 自动部署，获得 HTTPS 访问链接
```

#### 部署到公司内部服务器
将 `log_analyzer.html` 放到公司内部Web服务器（Nginx/Apache）即可：
```nginx
# Nginx配置示例
server {
    listen 80;
    server_name log-tools.company.com;
    root /var/www/log-tools;
    index log_analyzer.html;
}
```

---

### 方案2：Docker 部署

创建 `Dockerfile`:
```dockerfile
FROM nginx:alpine
COPY log_analyzer.html /usr/share/nginx/html/index.html
```

构建并运行：
```bash
docker build -t log-analyzer .
docker run -d -p 8080:80 log-analyzer
```

访问：`http://localhost:8080`

---

### 方案3：企业内网部署

**适用于企业内部安全环境：**

1. **文件共享方式**
   - 将 `log_analyzer.html` 放到文件共享服务器
   - 员工下载到本地运行

2. **内网Web服务**
   - 部署到公司内网Web服务器
   - 通过内网域名访问
   - 数据仍在浏览器本地处理

---

## 🔐 数据安全说明

| 场景 | 数据流向 | 安全性 |
|------|---------|--------|
| 本地直接打开 | 浏览器 → 本地文件系统 | ✅ 最安全，完全离线 |
| 本地HTTP服务器 | 浏览器 → 本地服务器 | ✅ 安全，数据不出本地网络 |
| 线上静态托管 | 浏览器 → 云端HTML → 本地文件系统 | ✅ 安全，日志只在浏览器处理 |
| 企业内网 | 浏览器 → 内网服务器 | ✅ 安全，数据在企业内网 |

**关键点：所有日志文件的读取、解析、统计都在浏览器JavaScript中完成，不会发送到任何服务器！**

---

## 📋 浏览器兼容性

| 浏览器 | 版本要求 | File System Access API |
|--------|---------|----------------------|
| Chrome | 86+ | ✅ 完全支持 |
| Edge | 86+ | ✅ 完全支持 |
| Firefox | - | ❌ 需要使用文件选择器 |
| Safari | - | ❌ 需要使用文件选择器 |

**注意：** Firefox/Safari 需要修改代码使用传统的 `<input type="file" multiple>` 方式选择文件。

---

## ⚙️ 使用建议

### 个人使用
- 推荐方式1：直接双击HTML文件
- 无需联网，完全离线使用

### 小团队（<10人）
- 推荐方式1：直接使用本地HTML
- 将文件通过IM或文件共享分发

### 中大型团队（10+人）
- 推荐方案1：部署到 GitHub Pages 或公司内部Web服务
- 统一版本，便于更新维护

### 企业环境
- 推荐方案3：部署到企业内网Web服务
- 满足安全合规要求

---

## 🎯 快速开始

1. **本地测试**
   ```bash
   # 双击 log_analyzer.html
   ```

2. **团队部署**
   ```bash
   # 上传到 GitHub Pages
   git init
   git add log_analyzer.html
   git commit -m "添加日志分析工具"
   git push
   # 在GitHub仓库设置中启用Pages
   ```

3. **内网部署**
   ```bash
   # 复制到公司Web服务器
   cp log_analyzer.html /var/www/html/
   # 访问: http://内网服务器IP/log_analyzer.html
   ```

---

## 📞 技术支持

如有问题，请检查：
1. 浏览器版本是否符合要求
2. 是否启用了JavaScript
3. 是否有足够的磁盘权限读取日志文件
